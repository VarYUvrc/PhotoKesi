# General
- ユーザーは日本人なのであなたは日本語で返答する。思考は英語でOK。

# Spec-Driven-Development
- チャットの初回開始時には`README.md`を確認してプロジェクトの概要を理解する。
- `README.md`を常に正しい「仕様書」ファイルとして扱い、使用駆動開発を行います。逆にユーザーの命令で仕様が変更になった場合には仕様書を更新し、常に完成形の目指す姿と同期させる必要があります。
- タスク実施項目は`TODO.md`にチェックボックス形式で記載してから遂行する。実施前のタスクにはチェックを付けず、実施済のタスクはチェックを付ける。
    ```markdown: TODO.md
    ## TODOリストの書き方（一例、プロジェクトに既存のTODO.mdがある場合はその記法に従う）
    - 機能追加: ...のために...を導入
        - [x] ...を追加
        - [ ] ...を適用
    - 改善: ...の問題を回避
        - [x] ...を修正
        - [ ] ...を変更
    ```
- コードの修正で不要になった過去のコードや機能は適切に削除する。
- タスクが完了したら、下記を実施する。
    - `README.md`を確認し、古い仕様の記載を削除して現在の状態に常に同期するように修正する。
    - `TODO.md`を確認し、より以前/将来のTODOの内容が仕様変更によりすでに仕様書と整合しない情報になっている場合に、記載の統合や補足情報の追記を行うなどして最終的な成果物と同期させる。
- 書いたコードがビルドやテストで失敗した際には、その再発を防ぐために必要な情報を`README.md`に記載してください。
    - 発生したエラー特有の回避策や詳細情報を書くのは文字数の無駄のため避けて下さい、その代わりに汎用的かつ抽象的で類似のエラーを起こすコードをあなたが書いてしまうことを未然に防ぐことに寄与する有益な記載にしてください。    

# MCP
- ファイルの操作はSerena MCPを有効活用してください。
    - Serena は LSP（Language Server Protocol）を使用してセマンティックなコードを解析するのが特徴です。LSP はコードの構文解析やシンボルの解決、コード補完などを提供するプロトコルで、Serena はこれを利用してコードベースの理解と操作を行います。これにより Serena は大規模で複雑なコードベースであっても適切なコンテキストを効率的に取得しタスクを実行できます。
    - これは人間が IDE を操作して関数の定義にジャンプしたり、シンボルを検索したりするのと同じような操作をコーディングエージェントに提供します。通常コーディングエージェントは関数の定義を探すだけでも関数名で検索や grep コマンドを使用してコードベース全体を検索し、多くのファイルを開いて確認をするため多くのトークンを消費してしまいます。Serena はキャッシュされたシンボルのリストから関数の候補を取得して検索するため、コンテキスト効率が良いわけです。
    - ファイルの書き込みにおいても違いがあります。現在のコーディングエージェントは基本的に単純なテキスト編集を使用してコードを編集します。Serena は `replace_regex` や `insert_before_symbol`, `insert_after_symbol` などのツールを使用して正規表現やシンボルを指定してコードを編集できます。これにより無駄なトークン消費を抑えつつ、より効率的なコード編集を試みます。

# Project specific rules
- iOSでの動作確認は全てユーザーが行うので、あなたが"iOS Simulator SDK"などでビルドを試行する必要はありません。
